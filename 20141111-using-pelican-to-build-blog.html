<!DOCTYPE html>
<html lang="tw">
<head>

        <title>用 pelican + github 建立完全免費的 blog</title>
        <meta charset="utf-8" />


        <!-- Mobile viewport optimized: j.mp/bplateviewport -->
        <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1">

        <link rel="stylesheet" type="text/css" href="http://leafwind.github.io/theme/gumby.css" />
        <link rel="stylesheet" type="text/css" href="http://leafwind.github.io/theme/style.css" />
        <link rel="stylesheet" type="text/css" href="http://leafwind.github.io/theme/pygment.css" />

        <script src="http://leafwind.github.io/theme/js/libs/modernizr-2.6.2.min.js"></script>




</head>

<body id="index" class="home">


    <div class="container">

        <div class="row">

          <header id="banner" class="body">
                  <h1><a href="http://leafwind.github.io/">LeafHub <strong></strong></a></h1>
          </header><!-- /#banner -->

            <div id="navigation" class="navbar row">
              <a href="#" gumby-trigger="#navigation &gt; ul" class="toggle"><i class="icon-menu"></i></a>
             
              <ul class="columns">
                <li><a href="http://leafwind.github.io/">Home</a></li>


              </ul>
            </div>

<section id="content" class="body">

   <div class="row">
        <div class="eleven columns">


            <header>
              <h2 class="entry-title">
                <a href="http://leafwind.github.io/20141111-using-pelican-to-build-blog.html" rel="bookmark"
                   title="Permalink to 用 pelican + github 建立完全免費的 blog">用 pelican + github 建立完全免費的 blog</a></h2>
           
            </header>
            <footer class="post-info">
              <abbr class="published" title="2014-11-11T22:09:41+01:00">
                週二 11 十一月 2014
              </abbr>
              <address class="vcard author">By 
                <a class="url fn" href="http://leafwind.github.io/author/leafwind.html"> leafwind</a>
              </address>
            </footer><!-- /.post-info -->
            <div class="entry-content">
              <p>自從用了 logdown 之後，就非常喜歡 markdown 的寫作方式</p>
<p>html 實在不是給人寫的，那種事情給機器自動產生就好了</p>
<p>但 logdown 畢竟還是別人 host 的服務，功能就相對侷限</p>
<p>在原本我最愛的「拖拉上傳圖片」功能也變成付費之後</p>
<p>便開始找新的替代方案</p>
<p>其實 pelican + github 也不是什麼新的組合</p>
<p>google 一下就有很多文章教你怎麼裝</p>
<p>對 coding 習慣的宅宅來說 python + markdown + github 跟吃飯一樣</p>
<p>唯一美中不足的是，如果你對前端技術不熟，那可能沒辦法刻出很 fancy 的介面</p>
<p>但換個角度想，也有人會分享 pelican theme，並且 logdown 的主題也是蠻弱的</p>
<h2>python environment</h2>
<p>首先要有一個 python 環境</p>
<p>在 linux 上有 python 是天經地義</p>
<p>windows 的話推薦裝 <a href="https://store.continuum.io/cshop/anaconda/">anaconda</a></p>
<p>只要下載整個執行檔裝完就有 iPython / pip 等等環境，也不用設 path</p>
<p>我想應該很少有人在 windows 上開發 python 程式</p>
<p>所以這種懶人包已經很夠用了</p>
<h2>安裝必要套件</h2>
<p>一開始只需要兩個 package</p>
<p>如果你不想用 markdown 寫 blog 的話甚至只要裝 pelican 就好</p>
<div class="highlight"><pre><span class="n">pip</span> <span class="n">install</span> <span class="n">markdown</span> <span class="n">pelican</span>
</pre></div>


<p>通常中文的 windows 會卡在 pelican 編譯不過</p>
<p>在我浪費了一個美好的假日下午之後</p>
<p>終於發現直接 compile source code 才是正解..</p>
<p>到 <a href="https://github.com/getpelican/pelican">getpelican</a> 下載原始碼然後切到資料夾裡面：</p>
<div class="highlight"><pre><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</pre></div>


<h2>blog 資料夾結構</h2>
<div class="highlight"><pre>mkdir blog
<span class="nb">cd </span>blog
pelican-quickstart
</pre></div>


<p>過程中不清楚的可以先用預設值就好，之後再改</p>
<p>現在 <code>blog</code> 資料夾底下會有一個 <code>content</code> 放文章原始檔</p>
<p>另外 <code>output</code> 則是放產生出來的網頁檔</p>
<h3>linking with github</h3>
<p>先把 github 的文章 clone 下來：</p>
<div class="highlight"><pre><span class="nb">cd </span>output
git clone git@github.com:username/username.github.io.git
</pre></div>


<p>再設定 pelican 輸出到 github 資料夾
pelicanconf.py add:</p>
<div class="highlight"><pre><span class="n">OUTPUT_PATH</span> <span class="o">=</span> <span class="s">&#39;output/username.github.io/&#39;</span>
</pre></div>


<p>這樣就把 github 連接好了</p>
<p>接下來只要在 content 裡面寫好 .md 的文章</p>
<p>在 anaconda command prompt 執行 pelican</p>
<p>然後再 push 到 github 上面</p>
<p>你的 blog 就會出現在 http://username.github.io/ 囉</p>
<p>（如果用 linux 的話更方便，可以寫在一個 make 裡面）</p>
<p>不過還有很多要調整的地方</p>
<h2>安裝主題</h2>
<p>借用 jsliang 製作的 <a href="http://jsliang.com/blog/2013/02/moving-to-pelican-hosting-on-github-pages.html">pelican-fresh</a></p>
<p>responsive layout 感覺就很厲害（拼命縮放視窗中）</p>
<div class="highlight"><pre>git clone https://github.com/jsliang/pelican-fresh.git
<span class="nb">cd </span>pelican-fresh
pelican-themes -i pelican-fresh <span class="c"># theme dir name</span>
</pre></div>


<p>再套用設定到</p>
<p>pelicanconf.py:</p>
<div class="highlight"><pre><span class="n">THEME</span> <span class="o">=</span> <span class="s">&#39;pelican-fresh&#39;</span>
</pre></div>


<h2>Disqus</h2>
<p><a href="https://disqus.com/">Disqus</a></p>
<p>Admin -&gt; Settings -&gt;Your website's shortname is XXX
pelicanconf.py:</p>
<div class="highlight"><pre><span class="n">DISQUS_SITENAME</span> <span class="o">=</span> <span class="s">&#39;shortname&#39;</span>
</pre></div>


<h2>Google Analytics</h2>
<p>pelicanconf.py:</p>
<div class="highlight"><pre><span class="n">GOOGLE_ANALYTICS</span> <span class="o">=</span> <span class="s">&#39;UA-XXXXXXXX-X&#39;</span>
</pre></div>
            </div><!-- /.entry-content -->
            <div class="comments">
              <h3>Comments</h3>
              <div id="disqus_thread"></div>
              <script type="text/javascript">
                var disqus_identifier = "20141111-using-pelican-to-build-blog.html";
                (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'http://leafhub.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
              </script>
            </div>


        </div><!-- /.eleven.columns -->

<div class="three columns">

<h4>Pages</h4>

 <ul>
  </ul>

<h4>Categories</h4>
<ul>
		<li><a href="http://leafwind.github.io/category/internet.html">Internet</a></li>
		<li><a href="http://leafwind.github.io/category/opentruth.html">OpenTruth</a></li>
		<li><a href="http://leafwind.github.io/category/tech.html">tech</a></li>
</ul>


<h4>Tags</h4>
	<ul>
	    <li class="tag-4"><a href="http://leafwind.github.io/tag/github.html">github</a></li>
	    <li class="tag-4"><a href="http://leafwind.github.io/tag/blog.html">blog</a></li>
	    <li class="tag-4"><a href="http://leafwind.github.io/tag/markdown.html">markdown</a></li>
	    <li class="tag-4"><a href="http://leafwind.github.io/tag/pelican.html">pelican</a></li>
</ul>


<nav class="widget">
  <h4>Social</h4>
  <ul>
    <li><a href="#">You can add links in your config file</a></li>
    <li><a href="#">Another social link</a></li>
  </ul>
</nav>

</div> </div><!-- /.row -->


</section>

       </div><!-- /.row -->
    </div><!-- /.container -->


       <div class="container.nopad bg">

    
        <footer id="credits" class="row">
          <div class="seven columns left-center">

                   <address id="about" class="vcard body">
                    Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                    which takes great advantage of <a href="http://python.org">Python</a>.
                    <br />
                    Based on the <a target="_blank" href="http://gumbyframework.com">Gumby Framework</a>
                    </address>
          </div>


          <div class="seven columns">
            <div class="row">
              <ul class="socbtns">





              </ul>
            </div>
          </div>
        </footer>

    </div>


<script type="text/javascript">
    var disqus_shortname = 'leafhub';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
  <script src="http://leafwind.github.io/theme/js/libs/jquery-1.9.1.min.js"></script>
  <script src="http://leafwind.github.io/theme/js/libs/gumby.min.js"></script>
  <script src="http://leafwind.github.io/theme/js/plugins.js"></script>
</body>
</html>